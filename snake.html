<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>Snake Game</title>
<style>
  body { display:flex; justify-content:center; align-items:center; height:100vh; background:#222; margin:0; }
  canvas { background:#000; display:block; }
  #score { color:#fff; position:absolute; top:10px; font-family:sans-serif; font-size:20px; }
</style>
</head>
<body>
<div id="score">Score: 0</div>
<canvas id="game" width="400" height="400"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const box = 20;
const gridSize = canvas.width / box;
let snake = [{x: 5, y: 5}]; // grid coordinates
let food = {x: Math.floor(Math.random()*gridSize), y: Math.floor(Math.random()*gridSize)};
let dx = 1, dy = 0;
let nextDx = dx, nextDy = dy;
let score = 0;

document.addEventListener('keydown', direction);
function direction(e){
if(e.key === 'ArrowUp' && dy === 0){ nextDx = 0; nextDy = -1; }
else if(e.key === 'ArrowDown' && dy === 0){ nextDx = 0; nextDy = 1; }
else if(e.key === 'ArrowLeft' && dx === 0){ nextDx = -1; nextDy = 0; }
else if(e.key === 'ArrowRight' && dx === 0){ nextDx = 1; nextDy = 0; }
}

function collision(head, array){
for(let i=0;i<array.length;i++){
if(head.x === array[i].x && head.y === array[i].y) return true;
}
return false;
}

function draw(){
ctx.fillStyle = '#000';
ctx.fillRect(0,0,canvas.width,canvas.height);

for(let i=0;i<snake.length;i++){
ctx.fillStyle = i===0?'lime':'green';
ctx.fillRect(snake[i].x*box, snake[i].y*box, box, box);
}

ctx.fillStyle = 'red';
ctx.fillRect(food.x*box, food.y*box, box, box);

dx = nextDx;
dy = nextDy;

let head = {x: snake[0].x + dx, y: snake[0].y + dy};

if(head.x < 0 || head.x >= gridSize || head.y < 0 || head.y >= gridSize || collision(head, snake)){
alert('Game Over! Score: '+score);
snake = [{x:5, y:5}];
dx = 1; dy = 0;
nextDx = dx; nextDy = dy;
score = 0;
document.getElementById('score').innerText = 'Score: 0';
food = {x: Math.floor(Math.random()*gridSize), y: Math.floor(Math.random()*gridSize)};
return;
}

snake.unshift(head);

if(head.x === food.x && head.y === food.y){
score++;
document.getElementById('score').innerText = 'Score: '+score;
food = {x: Math.floor(Math.random()*gridSize), y: Math.floor(Math.random()*gridSize)};
if(snake.length >= gridSize*gridSize){
alert('You win! Snake filled the board!');
snake = [{x:5, y:5}];
dx = 1; dy = 0;
nextDx = dx; nextDy = dy;
score = 0;
document.getElementById('score').innerText = 'Score: 0';
food = {x: Math.floor(Math.random()*gridSize), y: Math.floor(Math.random()*gridSize)};
return;
}
} else {
snake.pop();
}
}

setInterval(draw, 100); </script>

</body>
</html>
